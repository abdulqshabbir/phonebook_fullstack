(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,n,t){e.exports=t(46)},44:function(e,n,t){},45:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var a=t(18),r=t(4),o=t(2),c=t(0),u=t.n(c),l=t(16),i=t.n(l),d=function(e){var n=e.person,t=e.handlePersonDeletion;return u.a.createElement("div",null,u.a.createElement("li",{className:"person",key:n.name},n.name," : ",n.number),u.a.createElement("button",{onClick:t},"Delete Contact"))},s=function(e,n){e=e.toLowerCase(),n=n.toLowerCase();for(var t=0;t<n.length;t++)if(n.charAt(t)!==e.charAt(t))return!1;return!0},m=t(17),f=t.n(m),h=function(e){var n=e.persons,t=e.searchQuery,a=e.handlePersonDeletion;return n.map(function(e){return t?s(e.name,t)?u.a.createElement(d,{key:e.name,person:e,handlePersonDeletion:function(){return a(e)}}):void 0:u.a.createElement(d,{key:f()(),person:e,handlePersonDeletion:function(){return a(e)}})})},p=function(e){var n=e.addNewPerson,t=e.newName,a=e.handleNameChange,r=e.newNumber,o=e.handleNumberChange;return u.a.createElement("form",{onSubmit:n},u.a.createElement("div",null,"Name:",u.a.createElement("input",{type:"text",value:t,onChange:a,placeholder:"Type name here..."})),u.a.createElement("div",null,"Number:",u.a.createElement("input",{type:"text",value:r,onChange:o,placeholder:"Type phone number here..."})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},E=t(3),b=t.n(E),v="http://localhost:5000/api/persons",N=function(){return b.a.get("".concat(v)).then(function(e){return e.data})},w=function(e){return b.a.post("".concat(v),e).then(function(e){return e.data})},O=function(e){return b.a.delete("".concat(v,"/").concat(e.id)).then(function(e){return e.data})},P=function(e){return b.a.put("".concat(v,"/").concat(e.id),e).then(function(e){return e.data})},g=(t(44),function(e){var n=e.notification;return"NEW_PERSON"===n.type?u.a.createElement("div",{className:"notification add"},"".concat(n.data.name," was just added!")):"DELETE_PERSON"===n.type?u.a.createElement("div",{className:"notification delete"},"".concat(n.data.name," was just deleted.")):"UPDATE_PERSON"===n.type?u.a.createElement("div",{className:"notification update"},"".concat(n.data.name,"'s phone number was just updated to ").concat(n.data.number,".")):"PERSON_DOES_NOT_EXIST"===n.type?u.a.createElement("div",{className:"notification delete"},"".concat(n.data.name," does not exist in the server.")):null});t(45);i.a.render(u.a.createElement(function(){var e=Object(c.useState)(""),n=Object(o.a)(e,2),t=n[0],l=n[1],i=Object(c.useState)(""),d=Object(o.a)(i,2),s=d[0],m=d[1],f=Object(c.useState)(""),E=Object(o.a)(f,2),b=E[0],v=E[1],y=Object(c.useState)([]),j=Object(o.a)(y,2),S=j[0],D=j[1],T=Object(c.useState)({}),C=Object(o.a)(T,2),_=C[0],k=C[1];Object(c.useEffect)(function(){N().then(function(e){return D(e)})},[]);var R=function(e,n){k({data:Object(r.a)({},e),type:n}),setTimeout(function(){return k({})},5e3)},A=function(){l(""),m("")};return u.a.createElement("div",null,u.a.createElement("h1",null,"Phonebook App"),u.a.createElement(g,{notification:_}),u.a.createElement("h2",null,"Search for a Person",u.a.createElement("input",{type:"text",onChange:function(e){v(e.target.value)},value:b})),u.a.createElement("h2",null,"Add a New Person"),u.a.createElement(p,{addNewPerson:function(e){e.preventDefault();var n="".concat(t," is already in the phonebook!  Replace the old number with the new one?"),o=S.filter(function(e){return e.name===t});if(o.length>0){var c=window.confirm(n),u=o[0],l=Object(r.a)({},u,{number:s});if(!c)return void A();console.log("person to update before PUT request",l),P(l).then(function(e){console.log("updated person after PUT request",e),D(S.filter(function(n){return n.id!==e.id}).concat(l)),R(l,"UPDATE_PERSON"),A()}).catch(function(e){console.log(e)})}else{var i={name:t,number:s};w(i).then(function(e){D([].concat(Object(a.a)(S),[i])),R(i,"NEW_PERSON"),A()}).catch(function(e){console.log("There was an error createing a new person: ",e)})}},newName:t,handleNameChange:function(e){l(e.target.value)},newNumber:s,handleNumberChange:function(e){m(e.target.value)}}),u.a.createElement("h2",null,"People..."),u.a.createElement("ul",null,u.a.createElement(h,{persons:S,searchQuery:b,handlePersonDeletion:function(e){O(e),D(S.filter(function(n){return n.id!==e.id})),R(e,"DELETE_PERSON")}})))},null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.146cb6b0.chunk.js.map