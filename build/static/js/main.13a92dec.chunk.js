(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(41)},39:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(15),r=t(4),c=t(2),o=t(0),u=t.n(o),i=t(14),l=t.n(i),d=function(e){var n=e.person,t=e.handlePersonDeletion;return u.a.createElement("div",null,u.a.createElement("li",{className:"person",key:n.name},n.name," : ",n.number),u.a.createElement("button",{onClick:t},"Delete Contact"))},m=function(e,n){e=e.toLowerCase(),n=n.toLowerCase();for(var t=0;t<n.length;t++)if(n.charAt(t)!==e.charAt(t))return!1;return!0},s=function(e){var n=e.persons,t=e.searchQuery,a=e.handlePersonDeletion;return n.map(function(e){return t?m(e.name,t)?u.a.createElement(d,{key:e.name,person:e,handlePersonDeletion:function(){return a(e)}}):void 0:u.a.createElement(d,{key:e.name,person:e,handlePersonDeletion:function(){return a(e)}})})},f=function(e){var n=e.addNewPerson,t=e.newName,a=e.handleNameChange,r=e.newNumber,c=e.handleNumberChange;return u.a.createElement("form",{onSubmit:n},u.a.createElement("div",null,"Name:",u.a.createElement("input",{type:"text",value:t,onChange:a,placeholder:"Type name here..."})),u.a.createElement("div",null,"Number:",u.a.createElement("input",{type:"text",value:r,onChange:c,placeholder:"Type phone number here..."})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},h=t(3),E=t.n(h),p="http://localhost:3001/persons",b=function(){return E.a.get(p).then(function(e){return e.data})},v=function(e){return E.a.post("".concat(p),e).then(function(e){return e.data})},N=function(e){return E.a.delete("".concat(p,"/").concat(e.id)).then(function(e){return e.data})},O=function(e){return E.a.put("".concat(p,"/").concat(e.id),e).then(function(e){return e.data})},w=(t(39),function(e){var n=e.notification;return"NEW_PERSON"===n.type?u.a.createElement("div",{className:"notification add"},"".concat(n.data.name," was just added!")):"DELETE_PERSON"===n.type?u.a.createElement("div",{className:"notification delete"},"".concat(n.data.name," was just deleted.")):"UPDATE_PERSON"===n.type?u.a.createElement("div",{className:"notification update"},"".concat(n.data.name,"'s phone number was just updated to ").concat(n.data.number,".")):"PERSON_DOES_NOT_EXIST"===n.type?u.a.createElement("div",{className:"notification delete"},"".concat(n.data.name," does not exist in the server.")):null});t(40);l.a.render(u.a.createElement(function(){var e=Object(o.useState)(""),n=Object(c.a)(e,2),t=n[0],i=n[1],l=Object(o.useState)(""),d=Object(c.a)(l,2),m=d[0],h=d[1],E=Object(o.useState)(""),p=Object(c.a)(E,2),P=p[0],S=p[1],y=Object(o.useState)([]),j=Object(c.a)(y,2),g=j[0],D=j[1],_=Object(o.useState)({}),C=Object(c.a)(_,2),T=C[0],R=C[1];Object(o.useEffect)(function(){b().then(function(e){return D(e)})},[]);var k=function(e,n){R({data:Object(r.a)({},e),type:n}),setTimeout(function(){return R({})},5e3)},A=function(){i(""),h("")};return u.a.createElement("div",null,u.a.createElement("h1",null,"Phonebook App"),u.a.createElement(w,{notification:T}),u.a.createElement("h2",null,"Search for a Person",u.a.createElement("input",{type:"text",onChange:function(e){S(e.target.value)},value:P})),u.a.createElement("h2",null,"Add a New Person"),u.a.createElement(f,{addNewPerson:function(e){e.preventDefault();var n="".concat(t," is already in the phonebook!  Replace the old number with the new one?"),c=g.filter(function(e){return e.name===t});if(c.length>0){var o=window.confirm(n),u=c[0],i=Object(r.a)({},u,{number:m});if(!o)return void A();O(i).then(function(e){D(g.filter(function(n){return n.id!==e.id}).concat(i)),A()}).catch(function(e){k(i,"PERSON_DOES_NOT_EXIST"),D(g.filter(function(e){return e.id!==i.id}))}),k(i,"UPDATE_PERSON"),A()}else{var l={name:t,number:m};v(l).then(function(e){D([].concat(Object(a.a)(g),[e])).catch(function(e){console.log(e)})}),A(),k(l,"NEW_PERSON")}},newName:t,handleNameChange:function(e){i(e.target.value)},newNumber:m,handleNumberChange:function(e){h(e.target.value)}}),u.a.createElement("h2",null,"People..."),u.a.createElement("ul",null,u.a.createElement(s,{persons:g,searchQuery:P,handlePersonDeletion:function(e){N(e),D(g.filter(function(n){return n.id!==e.id})),k(e,"DELETE_PERSON")}})))},null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.13a92dec.chunk.js.map